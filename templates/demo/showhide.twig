{% extends "_layouts/base.twig" %}

{% set pageTitle = 'Show/Hide' %}

{% block content %}
  <h2>jQuery</h2>
  <div class="row mt-2 my-4">
    <div class="code col-md-8">
      <iframe
        src="https://carbon.now.sh/embed?bg=rgba(171%2C%20184%2C%20195%2C%201)&t=seti&wt=none&l=auto&ds=true&dsyoff=20px&dsblur=68px&wc=true&wa=true&pv=56px&ph=56px&ln=false&fl=1&fm=Hack&fs=14px&lh=133%25&si=false&es=1x&wm=false&code=%253Cdiv%2520class%253D%2522jquery%2520col-md-6%2522%253E%250A%2520%2520%253Cbutton%2520class%253D%2522btn%2520btn-primary%2522%253E%250A%2520%2520%2520%2520Toggle%250A%2520%2520%253C%252Fbutton%253E%250A%2520%2520%253Cdiv%2520class%253D%2522text%2520d-none%2522%253E%250A%2520%2520%2520%2520this%2520is%2520sentence%2520of%2520the%2520year!%250A%2520%2520%253C%252Fdiv%253E%250A%253C%252Fdiv%253E%250A%250A%253Cscript%253E%250A%2524(%27.jquery%2520.btn%27).click(function()%2520%257B%250A%2520%2520%2524(%27.jquery%2520.text%27).toggleClass(%27d-none%27)%253B%250A%257D)%253B%250A%253C%252Fscript%253E"
        style="width:100%; height:473px; border:0; overflow:hidden;"
        sandbox="allow-scripts allow-same-origin">
      </iframe>
    </div>
    <div class="jquery col-md-4">
      <button class="btn btn-primary">
        Toggle
      </button>
      <div class="text d-none">
        this is sentence of the year!
      </div>
    </div>
  </div>
  <hr/>

  <h2>Unpoly</h2>
  <div class="row mt-2 my-4">
    <div class="code col-md-8">
      <iframe
        src="https://carbon.now.sh/embed?bg=rgba(171%2C%20184%2C%20195%2C%201)&t=seti&wt=none&l=auto&ds=true&dsyoff=20px&dsblur=68px&wc=true&wa=true&pv=56px&ph=56px&ln=false&fl=1&fm=Hack&fs=14px&lh=133%25&si=false&es=1x&wm=false&code=%253Cdiv%2520class%253D%2522unpoly%2520col-md-4%2522%253E%250A%2520%2520%253Cbutton%2520class%253D%2522btn%2520btn-primary%2522%253E%250A%2520%2520%2520%2520Toggle%250A%2520%2520%253C%252Fbutton%253E%250A%2520%2520%253Cdiv%2520class%253D%2522text%2520d-none%2522%253E%250A%2520%2520%2520%2520this%2520is%2520sentence%2520of%2520the%2520year!%250A%2520%2520%253C%252Fdiv%253E%250A%253C%252Fdiv%253E%250A%250A%253Cscript%253E%250A%2520%2520up.on('click'%252C%2520'.unpoly%2520.btn'%252C%2520function(event%252C%2520element)%2520%257B%250A%2520%2520%2520%2520const%2520buttonEl%2520%253D%2520document.querySelector('.unpoly%2520.text')%253B%250A%2520%2520%2520%2520up.element.toggleClass(buttonEl%252C%2520'd-none')%253B%250A%2520%2520%257D)%253B%250A%253C%252Fscript%253E"
        style="transform:scale(0.7); width:1024px; height:473px; border:0; overflow:hidden;"
        sandbox="allow-scripts allow-same-origin">
      </iframe>
    </div>
    <div class="unpoly col-md-4">
      <button class="btn btn-primary">
        Toggle
      </button>
      <div class="text d-none">
        this is sentence of the year!
      </div>
    </div>
  </div>
  <hr/>

  <h2>Stimulus</h2>
  <div class="row mt-2 my-4">
    <div class="code col-md-8">
      <iframe
        src="https://carbon.now.sh/embed?bg=rgba(171%2C%20184%2C%20195%2C%201)&t=seti&wt=none&l=auto&ds=true&dsyoff=20px&dsblur=68px&wc=true&wa=true&pv=56px&ph=56px&ln=false&fl=1&fm=Hack&fs=14px&lh=133%25&si=false&es=1x&wm=false&code=%253Cdiv%2520class%253D%2522stimulus%2520col-md-4%2522%2520data-controller%253D%2522hello%2522%253E%250A%2520%2520%253Cbutton%2520class%253D%2522btn%2520btn-primary%2522%2520data-action%253D%2522click-%253Ehello%2523toggle%2522%253E%250A%2520%2520%2520%2520Toggle%250A%2520%2520%253C%252Fbutton%253E%250A%2520%2520%253Cdiv%2520class%253D%2522text%2520d-none%2522%2520data-target%253D%2522hello.text%2522%253E%250A%2520%2520%2520%2520this%2520is%2520sentence%2520of%2520the%2520year!%250A%2520%2520%253C%252Fdiv%253E%250A%253C%252Fdiv%253E%250A%250A%253Cscript%253E%250A%2520%2520const%2520application%2520%253D%2520Stimulus.Application.start()%253B%250A%2520%2520application.register(%2522hello%2522%252C%2520class%2520extends%2520Stimulus.Controller%2520%257B%250A%2520%2520%2520%2520static%2520get%2520targets()%2520%257B%250A%2520%2520%2520%2520%2520%2520return%2520%255B'text'%255D%253B%250A%2520%2520%2520%2520%257D%250A%250A%2520%2520%2520%2520toggle()%2520%257B%250A%2520%2520%2520%2520%2520%2520this.textTarget.classList.toggle('d-none')%253B%250A%2520%2520%2520%2520%257D%250A%2520%2520%257D)%253B%250A%253C%252Fscript%253E"
        style="transform:scale(0.7); width:1024px; height:473px; border:0; overflow:hidden;"
        sandbox="allow-scripts allow-same-origin">
      </iframe>
    </div>
    <div class="stimulus col-md-4" data-controller="hello">
      <button class="btn btn-primary" data-action="click->hello#toggle">
        Toggle
      </button>
      <div class="text d-none" data-target="hello.text">
        this is sentence of the year!
      </div>
    </div>
  </div>
  <hr/>

  <h2>Alpine.js</h2>
  <div class="row mt-2 my-4">
    <div class="code col-md-8">
      <iframe
        src="https://carbon.now.sh/embed?bg=rgba(171%2C%20184%2C%20195%2C%201)&t=seti&wt=none&l=auto&ds=true&dsyoff=20px&dsblur=68px&wc=true&wa=true&pv=56px&ph=56px&ln=false&fl=1&fm=Hack&fs=14px&lh=133%25&si=false&es=1x&wm=false&code=%253Cdiv%2520class%253D%2522alpine%2520col-md-4%2522%2520x-data%253D%2522%257B%2520show%253A%2520false%2520%257D%2522%253E%250A%2520%2520%253Cbutton%2520class%253D%2522btn%2520btn-primary%2522%2520%2540click%253D%2522show%2520%253D%2520!show%2522%253E%250A%2520%2520%2520%2520Toggle%250A%2520%2520%253C%252Fbutton%253E%250A%2520%2520%253Cdiv%2520class%253D%2522text%2522%2520%253Aclass%253D%2522%257B'd-none'%253A%2520!show%257D%2522%253E%250A%2520%2520%2520%2520this%2520is%2520sentence%2520of%2520the%2520year!%250A%2520%2520%253C%252Fdiv%253E%250A%253C%252Fdiv%253E"
        style="transform:scale(0.7); width:1024px; height:473px; border:0; overflow:hidden;"
        sandbox="allow-scripts allow-same-origin">
      </iframe>
    </div>
    <div class="alpine col-md-4" x-data="{ show: false }">
      <button class="btn btn-primary" @click="show = !show">
        Toggle
      </button>
      <div class="text" :class="{'d-none': !show}">
        this is sentence of the year!
      </div>
    </div>
  </div>
  <hr/>
{% endblock %}

{% block footerScript %}
  <script>
    /* ------------------ jQuery ------------------ */
    $('.jquery .btn').click(function() {
      $('.jquery .text').toggleClass('d-none');
    });

    /* ------------------ unpoly ------------------ */
    up.on('click', '.unpoly .btn', function(event, element) {
      const textEl = document.querySelector('.unpoly .text');
      up.element.toggleClass(textEl, 'd-none');
    });

    /* ------------------ stimulus ------------------ */
    const application = Stimulus.Application.start();
    application.register("hello", class extends Stimulus.Controller {
      static get targets() {
        return ['text'];
      }

      toggle() {
        this.textTarget.classList.toggle('d-none');
      }
    });
  </script>
{% endblock %}